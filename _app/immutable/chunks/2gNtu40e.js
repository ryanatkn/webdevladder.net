import{o as ee,h as ae,a9 as J,w as M,i as p,n as re,j as ne,V as Y,aa as ie,B as fe,C as z,v as R,k as w,I as le,z as K,m as P,y as te,ab as S,M as Q,q as se,x as F,ac as D,ad as U,ae as y,a7 as ue,af as X,ag as ve,ah as de,L as _e,ai as he,A as oe,aj as ce,F as Ee,ak as Ae}from"./CHbpTiYg.js";function Ie(a,e,r,s){for(var v=[],_=e.length,u=0;u<_;u++)de(e[u].e,v,!0);var h=_>0&&v.length===0&&r!==null;if(h){var I=r.parentNode;_e(I),I.append(r),s.clear(),x(a,e[0].prev,e[_-1].next)}he(v,()=>{for(var c=0;c<_;c++){var d=e[c];h||(s.delete(d.k),x(a,d.prev,d.next)),oe(d.e,!h)}})}function xe(a,e,r,s,v,_=null){var u=a,h={flags:e,items:new Map,first:null},I=(e&J)!==0;if(I){var c=a;u=p?M(re(c)):c.appendChild(ee())}p&&ne();var d=null,C=!1,f=ie(()=>{var t=r();return Ae(t)?t:t==null?[]:Q(t)});ae(()=>{var t=Y(f),n=t.length;if(C&&n===0)return;C=n===0;let g=!1;if(p){var E=u.data===fe;E!==(n===0)&&(u=z(),M(u),R(!1),g=!0)}if(p){for(var A=null,T,o=0;o<n;o++){if(w.nodeType===8&&w.data===le){u=w,g=!0,R(!1);break}var i=t[o],l=s(i,o);T=Z(w,h,A,null,i,l,o,v,e,r),h.items.set(l,T),A=T}n>0&&M(z())}p||Te(t,h,u,v,e,s,r),_!==null&&(n===0?d?K(d):d=P(()=>_(u)):d!==null&&te(d,()=>{d=null})),g&&R(!0),Y(f)}),p&&(u=w)}function Te(a,e,r,s,v,_,u){var O,q,V,W;var h=(v&ve)!==0,I=(v&(D|y))!==0,c=a.length,d=e.items,C=e.first,f=C,t,n=null,g,E=[],A=[],T,o,i,l;if(h)for(l=0;l<c;l+=1)T=a[l],o=_(T,l),i=d.get(o),i!==void 0&&((O=i.a)==null||O.measure(),(g??(g=new Set)).add(i));for(l=0;l<c;l+=1){if(T=a[l],o=_(T,l),i=d.get(o),i===void 0){var $=f?f.e.nodes_start:r;n=Z($,e,n,n===null?e.first:n.next,T,o,l,s,v,u),d.set(o,n),E=[],A=[],f=n.next;continue}if(I&&ge(i,T,l,v),(i.e.f&S)!==0&&(K(i.e),h&&((q=i.a)==null||q.unfix(),(g??(g=new Set)).delete(i))),i!==f){if(t!==void 0&&t.has(i)){if(E.length<A.length){var N=A[0],m;n=N.prev;var L=E[0],k=E[E.length-1];for(m=0;m<E.length;m+=1)G(E[m],N,r);for(m=0;m<A.length;m+=1)t.delete(A[m]);x(e,L.prev,k.next),x(e,n,L),x(e,k,N),f=N,n=k,l-=1,E=[],A=[]}else t.delete(i),G(i,f,r),x(e,i.prev,i.next),x(e,i,n===null?e.first:n.next),x(e,n,i),n=i;continue}for(E=[],A=[];f!==null&&f.k!==o;)(f.e.f&S)===0&&(t??(t=new Set)).add(f),A.push(f),f=f.next;if(f===null)continue;i=f}E.push(i),n=i,f=i.next}if(f!==null||t!==void 0){for(var b=t===void 0?[]:Q(t);f!==null;)(f.e.f&S)===0&&b.push(f),f=f.next;var H=b.length;if(H>0){var j=(v&J)!==0&&c===0?r:null;if(h){for(l=0;l<H;l+=1)(V=b[l].a)==null||V.measure();for(l=0;l<H;l+=1)(W=b[l].a)==null||W.fix()}Ie(e,b,j,d)}}h&&se(()=>{var B;if(g!==void 0)for(i of g)(B=i.a)==null||B.apply()}),F.first=e.first&&e.first.e,F.last=n&&n.e}function ge(a,e,r,s){(s&D)!==0&&U(a.v,e),(s&y)!==0?U(a.i,r):a.i=r}function Z(a,e,r,s,v,_,u,h,I,c){var d=(I&D)!==0,C=(I&ce)===0,f=d?C?ue(v):X(v):v,t=(I&y)===0?u:X(u),n={i:t,v:f,k:_,a:null,e:null,prev:r,next:s};try{return n.e=P(()=>h(a,f,t,c),p),n.e.prev=r&&r.e,n.e.next=s&&s.e,r===null?e.first=n:(r.next=n,r.e.next=n.e),s!==null&&(s.prev=n,s.e.prev=n.e),n}finally{}}function G(a,e,r){for(var s=a.next?a.next.e.nodes_start:r,v=e?e.e.nodes_start:r,_=a.e.nodes_start;_!==s;){var u=Ee(_);v.before(_),_=u}}function x(a,e,r){e===null?a.first=r:(e.next=r,e.e.next=r&&r.e),r!==null&&(r.prev=e,r.e.prev=e&&e.e)}const pe=(a,e)=>!e||!a.startsWith(e)?a:a.substring(e.length),Ce=(a,e)=>!e||!a.endsWith(e)?a:a.substring(0,a.length-e.length),be=(a,e)=>a.endsWith(e)?a:a+e;export{be as a,Ce as b,xe as e,pe as s};
