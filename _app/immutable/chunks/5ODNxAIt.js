import{Q as M,W as N,V as L,X as R,Y as f,Z as h,_ as U,$ as Y,a0 as $,a1 as q,a2 as w,a3 as Z,u as T,a4 as z,S as C,a5 as G,a6 as Q,a7 as V}from"./BMLtCLay.js";import{s as W,g as X}from"./D4XUyihN.js";let b=!1,p=Symbol();function J(e,r,u){const n=u[r]??(u[r]={store:null,source:R(void 0),unsubscribe:L});if(n.store!==e&&!(p in u))if(n.unsubscribe(),n.store=e??null,e==null)n.source.v=void 0,n.unsubscribe=L;else{var c=!0;n.unsubscribe=W(e,d=>{c?n.source.v=d:h(n.source,d)}),c=!1}return e&&p in u?X(e):f(n.source)}function K(){const e={};function r(){M(()=>{for(var u in e)e[u].unsubscribe();N(e,p,{enumerable:!1,value:!0})})}return[e,r]}function j(e){var r=b;try{return b=!1,[e(),b]}finally{b=r}}function y(e){var r;return((r=e.ctx)==null?void 0:r.d)??!1}function k(e,r,u,n){var E;var c=(u&Q)!==0,d=!0,o=(u&z)!==0,x=(u&V)!==0,A=!1,t;o?[t,A]=j(()=>e[r]):t=e[r];var B=C in e||G in e,l=o&&(((E=U(e,r))==null?void 0:E.set)??(B&&r in e&&(a=>e[r]=a)))||void 0,_=n,S=!0,g=!1,O=()=>(g=!0,S&&(S=!1,x?_=T(n):_=n),_);t===void 0&&n!==void 0&&(l&&d&&Y(),t=O(),l&&l(t));var v;if(v=()=>{var a=e[r];return a===void 0?O():(S=!0,g=!1,a)},(u&$)===0)return v;if(l){var D=e.$$legacy;return function(a,s){return arguments.length>0?((!s||D||A)&&l(s?v():a),a):v()}}var P=!1,I=R(t),i=w(()=>{var a=v(),s=f(I);return P?(P=!1,s):I.v=a});return o&&f(i),c||(i.equals=q),function(a,s){if(arguments.length>0){const m=s?f(i):o?Z(a):a;if(!i.equals(m)){if(P=!0,h(I,m),g&&_!==void 0&&(_=m),y(i))return a;T(()=>f(i))}return a}return y(i)?i.v:f(i)}}export{J as a,k as p,K as s};
