import{d as D,g as K,X as U,l as O,h as R,i as P,B as y,z as W,Q as j,Y as ee,Z as ne,_ as Y,k as F,m as k,C as re,$ as ae,a0 as V,a1 as fe,a2 as m,a3 as L,a4 as ie,a5 as X,a6 as le,a7 as B,a8 as se,a9 as ue,aa as te,ab as oe,ac as Z,ad as $,ae as z,q as ve,j as de,af as ce,ag as he,ah as ge,ai as pe}from"./Co2zTQq5.js";function _e(e,r,l){for(var d=[],p=r.length,u,s=r.length,h=0;h<p;h++){let _=r[h];$(_,()=>{if(u){if(u.pending.delete(_),u.done.add(_),u.pending.size===0){var t=e.outrogroups;q(B(u.done)),t.delete(u),t.size===0&&(e.outrogroups=null)}}else s-=1},!1)}if(s===0){var f=d.length===0&&l!==null;if(f){var o=l,a=o.parentNode;ge(a),a.append(o),e.items.clear()}q(r,!f)}else u={pending:new Set(r),done:new Set},(e.outrogroups??=new Set).add(u)}function q(e,r=!0){for(var l=0;l<e.length;l++)pe(e[l],r)}var Q;function Ce(e,r,l,d,p,u=null){var s=e,h=new Map,f=(r&U)!==0;if(f){var o=e;s=R?O(P(o)):o.appendChild(D())}R&&y();var a=null,_=j(()=>{var i=l();return se(i)?i:i==null?[]:B(i)}),t,c=!0;function C(){n.fallback=a,Ee(n,t,s,r,d),a!==null&&(t.length===0?(a.f&m)===0?Z(a):(a.f^=m,M(a,null,s)):$(a,()=>{a=null}))}var I=K(()=>{t=W(_);var i=t.length;let N=!1;if(R){var S=ee(s)===ne;S!==(i===0)&&(s=Y(),O(s),F(!1),N=!0)}for(var E=new Set,A=fe,b=ie(),g=0;g<i;g+=1){R&&k.nodeType===re&&k.data===ae&&(s=k,N=!0,F(!1));var w=t[g],x=d(w,g),v=c?null:h.get(x);v?(v.v&&V(v.v,w),v.i&&V(v.i,g),b&&A.skipped_effects.delete(v.e)):(v=me(h,c?s:Q??=D(),w,x,g,p,r,l),c||(v.e.f|=m),h.set(x,v)),E.add(x)}if(i===0&&u&&!a&&(c?a=L(()=>u(s)):(a=L(()=>u(Q??=D())),a.f|=m)),R&&i>0&&O(Y()),!c)if(b){for(const[G,J]of h)E.has(G)||A.skipped_effects.add(J.e);A.oncommit(C),A.ondiscard(()=>{})}else C();N&&F(!0),W(_)}),n={effect:I,items:h,outrogroups:null,fallback:a};c=!1,R&&(s=k)}function H(e){for(;e!==null&&(e.f&ce)===0;)e=e.next;return e}function Ee(e,r,l,d,p){var u=(d&he)!==0,s=r.length,h=e.items,f=H(e.effect.first),o,a=null,_,t=[],c=[],C,I,n,i;if(u)for(i=0;i<s;i+=1)C=r[i],I=p(C,i),n=h.get(I).e,(n.f&m)===0&&(n.nodes?.a?.measure(),(_??=new Set).add(n));for(i=0;i<s;i+=1){if(C=r[i],I=p(C,i),n=h.get(I).e,e.outrogroups!==null)for(const v of e.outrogroups)v.pending.delete(n),v.done.delete(n);if((n.f&m)!==0)if(n.f^=m,n===f)M(n,null,l);else{var N=a?a.next:f;n===e.effect.last&&(e.effect.last=n.prev),n.prev&&(n.prev.next=n.next),n.next&&(n.next.prev=n.prev),T(e,a,n),T(e,n,N),M(n,N,l),a=n,t=[],c=[],f=H(a.next);continue}if((n.f&z)!==0&&(Z(n),u&&(n.nodes?.a?.unfix(),(_??=new Set).delete(n))),n!==f){if(o!==void 0&&o.has(n)){if(t.length<c.length){var S=c[0],E;a=S.prev;var A=t[0],b=t[t.length-1];for(E=0;E<t.length;E+=1)M(t[E],S,l);for(E=0;E<c.length;E+=1)o.delete(c[E]);T(e,A.prev,b.next),T(e,a,A),T(e,b,S),f=S,a=b,i-=1,t=[],c=[]}else o.delete(n),M(n,f,l),T(e,n.prev,n.next),T(e,n,a===null?e.effect.first:a.next),T(e,a,n),a=n;continue}for(t=[],c=[];f!==null&&f!==n;)(o??=new Set).add(f),c.push(f),f=H(f.next);if(f===null)continue}(n.f&m)===0&&t.push(n),a=n,f=H(n.next)}if(e.outrogroups!==null){for(const v of e.outrogroups)v.pending.size===0&&(q(B(v.done)),e.outrogroups?.delete(v));e.outrogroups.size===0&&(e.outrogroups=null)}if(f!==null||o!==void 0){var g=[];if(o!==void 0)for(n of o)(n.f&z)===0&&g.push(n);for(;f!==null;)(f.f&z)===0&&f!==e.fallback&&g.push(f),f=H(f.next);var w=g.length;if(w>0){var x=(d&U)!==0&&s===0?l:null;if(u){for(i=0;i<w;i+=1)g[i].nodes?.a?.measure();for(i=0;i<w;i+=1)g[i].nodes?.a?.fix()}_e(e,g,x)}}u&&ve(()=>{if(_!==void 0)for(n of _)n.nodes?.a?.apply()})}function me(e,r,l,d,p,u,s,h){var f=(s&ue)!==0?(s&te)===0?le(l,!1,!1):X(l):null,o=(s&oe)!==0?X(p):null;return{v:f,i:o,e:L(()=>(u(r,f??l,o??p,h),()=>{e.delete(d)}))}}function M(e,r,l){if(e.nodes)for(var d=e.nodes.start,p=e.nodes.end,u=r&&(r.f&m)===0?r.nodes.start:l;d!==null;){var s=de(d);if(u.before(d),d===p)return;d=s}}function T(e,r,l){r===null?e.effect.first=l:r.next=l,l===null?e.effect.last=r:l.prev=r}const Ae=(e,r)=>!r||!e.startsWith(r)?e:e.substring(r.length),we=(e,r)=>!r||!e.endsWith(r)?e:e.substring(0,e.length-r.length),Ie=(e,r)=>e.endsWith(r)?e:e+r;export{Ie as a,we as b,Ce as e,Ae as s};
