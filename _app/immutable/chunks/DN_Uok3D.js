import{t as v,h as c,B as m,D as g,E,m as u,C as y,j as R,F as T,G as b,l as w,i as l,g as N,I as C}from"./Co2zTQq5.js";import{d as p,e as O}from"./BqAm1iNm.js";import{B as A}from"./AGS3eIJW.js";function M(d,_,s=!1,r=!1,n=!1){var t=d,f="";v(()=>{var o=g;if(f===(f=_()??"")){c&&m();return}if(o.nodes!==null&&(E(o.nodes.start,o.nodes.end),o.nodes=null),f!==""){if(c){u.data;for(var a=m(),h=a;a!==null&&(a.nodeType!==y||a.data!=="");)h=a,a=R(a);if(a===null)throw T(),b;p(u,h),t=w(a);return}var i=f+"";s?i=`<svg>${i}</svg>`:r&&(i=`<math>${i}</math>`);var e=O(i);if((s||r)&&(e=l(e)),p(l(e),e.lastChild),s||r)for(;l(e);)t.before(l(e));else t.before(e)}})}function k(d,_,...s){var r=new A(d);N(()=>{const n=_()??null;r.ensure(n,n&&(t=>n(t,...s)))},C)}export{M as h,k as s};
