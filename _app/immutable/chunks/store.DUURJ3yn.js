import{n as t,z as f,A as b,B as l,U as o,h as c,m as a}from"./runtime.DV--gxMp.js";function _(n,u,s){if(n==null)return u(void 0),s&&s(void 0),t;const e=n.subscribe(u,s);return e.unsubscribe?()=>e.unsubscribe():e}function g(n,u,s){let e=s[u];const r=e===void 0;r&&(e={store:null,last_value:null,value:a(o),unsubscribe:t},s[u]=e),(r||e.store!==n)&&(e.unsubscribe(),e.store=n??null,e.unsubscribe=d(n,e.value));const i=l(e.value);return i===o?e.last_value:i}function d(n,u){return n==null?(c(u,void 0),t):_(n,s=>c(u,s))}function p(n,u){return n.set(u),u}function v(n){m(()=>{let u;for(u in n)n[u].unsubscribe()})}function m(n){f(()=>()=>b(n))}export{p as a,g as s,v as u};
